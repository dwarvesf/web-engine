import React, { useEffect, useRef } from 'react';
import Button from '../ui/button';
import { Icon } from '../ui';

interface StepThreeFormProps {
  onReset: () => void;
}

export const StepThreeForm: React.FC<StepThreeFormProps> = ({ onReset }) => {
  const containerRef = useRef<HTMLDivElement>(null);

  // Scroll to element on mount
  useEffect(() => {
    setTimeout(() => {
      if (containerRef.current) {
        const yOffset = 80;
        const y =
          containerRef.current.getBoundingClientRect().top +
          window.pageYOffset -
          yOffset;

        window.scrollTo({ top: y, behavior: 'smooth' });
      }
    }, 300);
  }, []);

  const socials = [
    {
      label: 'LinkedIn',
      url: 'https://linkedin.com/company/dwarvesf',
      icon: 'linkedin-icon',
    },
    {
      label: 'X',
      url: 'https://twitter.com/dwarvesf',
      icon: 'x-icon',
    },
    {
      label: 'GitHub',
      url: 'https://github.com/dwarvesf',
      icon: 'github-icon',
    },
  ];

  return (
    <div
      ref={containerRef}
      className="bg-background relative flex h-full flex-col items-center justify-center gap-2 px-6 text-center"
      style={{ minHeight: 768 }}
    >
      <div className="bg-primary/10 mb-6 rounded-full p-4">
        <svg height="47" viewBox="0 0 50 47" fill="none">
          <path
            opacity="0.95"
            d="M12.0908 0.811298C12.557 0.697475 13.041 0.676594 13.5153 0.749847C13.9895 0.8231 14.4447 0.989053 14.8548 1.23823C15.2649 1.4874 15.6219 1.81492 15.9054 2.20208C16.1889 2.58923 16.3934 3.02844 16.5071 3.49463C17.2351 6.37366 17.4998 9.34919 17.2923 12.3094C17.2694 12.637 17.3094 12.9737 17.4809 13.2536C18.2259 14.4694 19.5492 14.6995 21.1853 14.1547C22.1922 13.8194 23.3532 14.0641 23.9296 14.9552L33.4388 29.6583C33.9339 30.4238 34.8841 30.7576 35.7492 30.47L45.5989 27.1952C46.3615 26.9558 47.1875 27.0256 47.899 27.3895C48.6106 27.7535 49.1506 28.3825 49.4027 29.1409C49.6548 29.8993 49.5989 30.7264 49.2468 31.4439C49.082 31.7799 48.8584 32.0793 48.5897 32.3299C48.0274 32.8545 47.0605 33.1259 46.3292 33.3637C43.382 34.3224 35.9158 36.7593 34.9025 37.1716C33.6436 37.6838 28.2197 40.8847 28.1523 40.9245C28.1502 40.9257 28.1507 40.9255 28.1486 40.9267C24.964 42.8219 20.5133 44.311 17.5433 43.7003C16.7882 43.545 15.963 43.5962 15.3527 44.0672L12.7963 46.04C12.5401 46.2368 12.2162 46.3238 11.8958 46.2819C11.5755 46.2399 11.2849 46.0725 11.0879 45.8164L0.66653 32.3147C0.568911 32.1878 0.497257 32.0429 0.455662 31.8883C0.414067 31.7337 0.403346 31.5724 0.424112 31.4137C0.444878 31.2549 0.496725 31.1018 0.576688 30.9631C0.656651 30.8244 0.763165 30.7028 0.890141 30.6052L3.4414 28.6313C4.05027 28.1602 4.3085 27.3785 4.32443 26.6088C4.38307 23.7765 6.3687 20.4664 8.29279 17.9511C9.66017 15.7988 10.9325 11.5089 9.4019 5.22538C9.17318 4.28347 9.32797 3.28927 9.83223 2.46148C10.3365 1.63369 11.1489 1.04011 12.0908 0.811298Z"
            fill="url(#paint0_linear)"
          />
          <path
            d="M31.6434 31.825C30.8284 31.8253 30.0367 31.5532 29.3941 31.052C28.7514 30.5508 28.2946 29.8493 28.0963 29.0588C27.8979 28.2684 27.9694 27.4343 28.2992 26.6891C28.6291 25.9439 29.1986 25.3302 29.9171 24.9457L35.343 22.0465C35.7663 21.8203 36.23 21.6796 36.7077 21.6326C37.1853 21.5855 37.6676 21.633 38.1269 21.7723C38.5862 21.9117 39.0136 22.1401 39.3846 22.4446C39.7556 22.7491 40.063 23.1237 40.2893 23.547C40.5155 23.9703 40.6562 24.434 40.7033 24.9116C40.7503 25.3893 40.7028 25.8715 40.5635 26.3309C40.4241 26.7902 40.1957 27.2175 39.8912 27.5885C39.5867 27.9596 39.2122 28.267 38.7889 28.4932L33.3629 31.3935C32.8343 31.6774 32.2434 31.8256 31.6434 31.825Z"
            fill="url(#paint1_linear)"
          />
          <path
            d="M27.3847 25.8222C26.5718 25.8226 25.7821 25.5521 25.1402 25.0535C24.4983 24.5548 24.0408 23.8565 23.8401 23.0689C23.6394 22.2812 23.7069 21.4492 24.032 20.7042C24.357 19.9592 24.921 19.3437 25.6349 18.9551L31.7842 15.6099C32.2063 15.372 32.6715 15.2205 33.1527 15.1641C33.6339 15.1076 34.1215 15.1474 34.5872 15.2812C35.0529 15.4149 35.4873 15.6399 35.8652 15.943C36.2432 16.2461 36.5571 16.6214 36.7887 17.047C37.0203 17.4725 37.165 17.9399 37.2143 18.4219C37.2637 18.9038 37.2167 19.3908 37.0761 19.8545C36.9356 20.3181 36.7042 20.7492 36.3956 21.1227C36.0869 21.4961 35.707 21.8044 35.2781 22.0298L29.1288 25.3761C28.594 25.6685 27.9942 25.8219 27.3847 25.8222Z"
            fill="url(#paint2_linear)"
          />
          <path
            d="M23.8986 19.4124C23.0874 19.4129 22.299 19.1435 21.6577 18.6467C21.0163 18.1499 20.5584 17.4539 20.356 16.6683C20.1537 15.8827 20.2184 15.0521 20.5399 14.3073C20.8615 13.5625 21.4216 12.9457 22.1321 12.5542L27.6218 9.53549C28.0423 9.30402 28.5043 9.15764 28.9813 9.10471C29.4584 9.05178 29.9412 9.09334 30.4023 9.22701C30.8633 9.36068 31.2935 9.58384 31.6682 9.88376C32.043 10.1837 32.355 10.5545 32.5865 10.975C32.818 11.3955 32.9643 11.8575 33.0173 12.3345C33.0702 12.8116 33.0286 13.2945 32.895 13.7555C32.7613 14.2165 32.5381 14.6467 32.2382 15.0214C31.9383 15.3962 31.5675 15.7082 31.147 15.9397L25.6573 18.9585C25.119 19.2563 24.5139 19.4125 23.8986 19.4124Z"
            fill="url(#paint3_linear)"
          />
          <path
            d="M31.6433 32.9431C30.5791 32.9433 29.5454 32.5878 28.7062 31.9333C27.8671 31.2787 27.2708 30.3625 27.0119 29.3303C26.7531 28.298 26.8465 27.2089 27.2775 26.2358C27.7084 25.2627 28.4521 24.4616 29.3905 23.9595C29.6515 23.8252 29.9549 23.799 30.2351 23.8865C30.5153 23.9739 30.7499 24.1681 30.8882 24.4271C31.0265 24.686 31.0574 24.9889 30.9742 25.2705C30.891 25.552 30.7005 25.7895 30.4437 25.9318C29.8508 26.2492 29.4082 26.789 29.213 27.4326C29.0179 28.0762 29.0861 28.7709 29.4028 29.3642C29.7285 29.9487 30.2683 30.3839 30.9086 30.5783C31.5488 30.7727 32.2395 30.711 32.8352 30.4062L38.2622 27.5071C38.3919 27.4353 38.5346 27.3899 38.682 27.3738C38.8294 27.3576 38.9785 27.3709 39.1207 27.4129C39.2629 27.4549 39.3953 27.5248 39.5103 27.6185C39.6252 27.7121 39.7204 27.8277 39.7902 27.9585C39.86 28.0893 39.9032 28.2327 39.9171 28.3803C39.931 28.5279 39.9154 28.6768 39.8712 28.8183C39.827 28.9599 39.7551 29.0912 39.6597 29.2047C39.5643 29.3182 39.4473 29.4115 39.3154 29.4794L33.8895 32.3774C33.1987 32.7477 32.4272 32.942 31.6433 32.9431Z"
            fill="#E64F6C"
          />
          <path
            d="M27.3859 26.9403C26.3242 26.9414 25.2923 26.5886 24.4537 25.9375C23.615 25.2865 23.0173 24.3744 22.7553 23.3455C22.4932 22.3167 22.5816 21.2298 23.0066 20.2568C23.4315 19.2839 24.1688 18.4804 25.1017 17.9734C25.2308 17.9007 25.3732 17.8543 25.5204 17.8371C25.6677 17.8198 25.8169 17.832 25.9594 17.873C26.1019 17.914 26.2348 17.9828 26.3504 18.0757C26.466 18.1685 26.562 18.2833 26.6328 18.4136C26.7036 18.5439 26.7478 18.6869 26.7628 18.8344C26.7778 18.9819 26.7633 19.1309 26.7202 19.2727C26.6771 19.4146 26.6062 19.5464 26.5116 19.6606C26.4171 19.7748 26.3007 19.8691 26.1694 19.9379C25.8767 20.097 25.6182 20.3121 25.4087 20.5712C25.1992 20.8302 25.0428 21.1279 24.9484 21.4474C24.8541 21.7669 24.8236 22.1019 24.8587 22.4331C24.8938 22.7644 24.9938 23.0855 25.1531 23.3781C25.4848 23.9588 26.0281 24.3888 26.6695 24.5782C27.3108 24.7676 28.0006 24.7018 28.5945 24.3944L34.7438 21.0481C35.0043 20.9064 35.3104 20.8739 35.5949 20.9579C35.8793 21.0419 36.1187 21.2354 36.2604 21.4959C36.4022 21.7564 36.4346 22.0625 36.3507 22.3469C36.2667 22.6314 36.0732 22.8708 35.8127 23.0125L29.6634 26.3589C28.9642 26.7387 28.1815 26.9385 27.3859 26.9403Z"
            fill="#E64F6C"
          />
          <path
            d="M23.8986 20.5316C23.1366 20.5321 22.3855 20.3502 21.7082 20.0012C21.0308 19.6521 20.4469 19.1459 20.0051 18.525C19.5634 17.9041 19.2767 17.1865 19.169 16.4321C19.0613 15.6777 19.1358 14.9085 19.3862 14.1888C19.4873 13.9139 19.6924 13.6896 19.9572 13.5643C20.222 13.439 20.5255 13.4226 20.8022 13.5187C21.079 13.6148 21.307 13.8158 21.4371 14.0782C21.5673 14.3407 21.5892 14.6438 21.4982 14.9223C21.3816 15.2582 21.3369 15.6149 21.3667 15.9693C21.3966 16.3236 21.5004 16.6678 21.6715 16.9795C22.0068 17.5573 22.5519 17.9836 23.1935 18.1698C23.835 18.356 24.5237 18.2876 25.1162 17.979L30.607 14.9603C30.7358 14.8865 30.878 14.8391 31.0253 14.8208C31.1726 14.8025 31.3221 14.8138 31.4651 14.8539C31.608 14.8941 31.7415 14.9623 31.8578 15.0545C31.9741 15.1468 32.0708 15.2613 32.1424 15.3914C32.214 15.5215 32.2589 15.6645 32.2746 15.8121C32.2903 15.9597 32.2765 16.109 32.2339 16.2512C32.1913 16.3934 32.1208 16.5257 32.0265 16.6404C31.9322 16.7551 31.8161 16.8498 31.6848 16.9191L26.1962 19.9379C25.4929 20.3269 24.7024 20.5312 23.8986 20.5316Z"
            fill="#E64F6C"
          />
          <defs>
            <linearGradient
              id="paint0_linear"
              x1="-27.5135"
              y1="39.4816"
              x2="52.0325"
              y2="85.2907"
              gradientUnits="userSpaceOnUse"
            >
              <stop stopColor="#FBA4B5" />
              <stop offset="1" stopColor="#E3486A" />
            </linearGradient>
            <linearGradient
              id="paint1_linear"
              x1="17.8737"
              y1="32.7649"
              x2="41.6733"
              y2="51.2838"
              gradientUnits="userSpaceOnUse"
            >
              <stop stopColor="#FFCDD7" />
              <stop offset="1" stopColor="#FB5A7D" />
            </linearGradient>
            <linearGradient
              id="paint2_linear"
              x1="13.0013"
              y1="26.8056"
              x2="37.9843"
              y2="46.5109"
              gradientUnits="userSpaceOnUse"
            >
              <stop stopColor="#FFCDD7" />
              <stop offset="1" stopColor="#FB5A7D" />
            </linearGradient>
            <linearGradient
              id="paint3_linear"
              x1="10.0766"
              y1="20.3633"
              x2="34.116"
              y2="38.9455"
              gradientUnits="userSpaceOnUse"
            >
              <stop stopColor="#FFCDD7" />
              <stop offset="1" stopColor="#FB5A7D" />
            </linearGradient>
          </defs>
        </svg>
      </div>

      <div className="mb-2 text-2xl font-semibold">Thank you!</div>

      <div className="text-muted-foreground mb-6 max-w-md">
        Your inquiry has been sent successfully. Our team is on the move.
      </div>

      <Button type="button" variant="primary" onClick={onReset}>
        Send another inquiry
      </Button>

      <div className="absolute bottom-0 left-0 mb-8 flex w-full flex-col items-center text-center">
        <div className="text-muted-foreground mb-4">Stay connected</div>
        <nav className="block flex-none">
          <ul className="flex items-center gap-4">
            {socials.map(social => (
              <li key={social.label}>
                <a
                  href={social.url}
                  target="_blank"
                  rel="noopener noreferrer"
                  aria-label={social.label}
                  className="hover:text-primary text-muted-foreground flex transition-colors"
                >
                  <Icon name={social.icon} size="sm" />
                </a>
              </li>
            ))}
          </ul>
        </nav>
      </div>
    </div>
  );
};
